# ì‘ì—… ë‚´ì—­ì„œ: ê³µìœ  í˜ì´ì§€ ìˆ˜ì •

**ì‘ì—… ì¼ì:** 2026-01-24  
**ì‘ì—…ì:** AI Assistant  
**í”„ë¡œì íŠ¸:** Pockest Chrome Extension

---

## ğŸ“‹ ì‘ì—… ê°œìš”

**ë¬¸ì œ:** í¬ì¼“ ê³µìœ  ë§í¬ ì ‘ì† ì‹œ ë¹ˆ í˜ì´ì§€ í‘œì‹œ  
**ì›ì¸:** Vercel ì›¹ ë¹Œë“œì— Supabase í™˜ê²½ë³€ìˆ˜ ë¯¸ì„¤ì •  
**í•´ê²°:** Supabase credentials fallback ì¶”ê°€

---

## ğŸ” ë¬¸ì œ ë°œê²¬ ë° ë¶„ì„

### 1ì°¨ ì‹œë„ (ì‹¤íŒ¨)
**ì‹œê°„:** 15:30  
**ë¬¸ì œ:** https://pockest.vercel.app/#/share/ef88b075-f7e8-4ba9-b185-293701f0c474 ì ‘ì† ì‹œ ë¹ˆ í˜ì´ì§€

**ì—ëŸ¬ ë©”ì‹œì§€:**
```
Uncaught Error: Missing Supabase environment variables
```

**ì›ì¸ ë¶„ì„:**
- Vercel ë¹Œë“œ í™˜ê²½ì— `VITE_SUPABASE_URL`, `VITE_SUPABASE_ANON_KEY` ë¯¸ì„¤ì •
- `src/services/supabase/client.ts`ì—ì„œ í™˜ê²½ë³€ìˆ˜ ì—†ì„ ì‹œ ì—ëŸ¬ throw
- ì•± ì´ˆê¸°í™” ì‹¤íŒ¨ë¡œ ë¹ˆ í˜ì´ì§€ í‘œì‹œ

---

## ğŸ”§ í•´ê²° ê³¼ì •

### 1ë‹¨ê³„: URL í•˜ë“œì½”ë”©
**ì»¤ë°‹:** `5db6bf7`  
**íŒŒì¼:** `src/pages/dashboard/Dashboard.tsx`

**ë³€ê²½ ë‚´ìš©:**
```typescript
// ë³€ê²½ ì „
shareUrl={`${import.meta.env.VITE_APP_URL || window.location.origin}/#/share/${pocketId || ''}`}

// ë³€ê²½ í›„
shareUrl={`https://pockest.vercel.app/#/share/${pocketId || ''}`}
```

**ê²°ê³¼:** URL ìƒì„±ì€ ì„±ê³µí–ˆìœ¼ë‚˜ ì—¬ì „íˆ ë¹ˆ í˜ì´ì§€

---

### 2ë‹¨ê³„: SharedPocketPageì— Supabase í•˜ë“œì½”ë”©
**ì»¤ë°‹:** `3189bd8`  
**íŒŒì¼:** `src/pages/share/SharedPocketPage.tsx`

**ë³€ê²½ ë‚´ìš©:**
```typescript
// createClient ì§ì ‘ ìƒì„±
const supabaseUrl = 'https://cddcvhqwanljsdellvvr.supabase.co';
const supabaseAnonKey = 'eyJ...';
const supabase = createClient(supabaseUrl, supabaseAnonKey);
```

**ê²°ê³¼:** ì—¬ì „íˆ ë¹ˆ í˜ì´ì§€ (ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ client.ts ì‚¬ìš©)

---

### 3ë‹¨ê³„: client.tsì— fallback ì¶”ê°€
**ì»¤ë°‹:** `f36ea5d`  
**íŒŒì¼:** `src/services/supabase/client.ts`

**ë³€ê²½ ë‚´ìš©:**
```typescript
// ë³€ê²½ ì „
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL as string;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY as string;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Missing Supabase environment variables');
}

// ë³€ê²½ í›„
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 'https://cddcvhqwanljsdellvvr.supabase.co';
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || 'eyJ...';
```

**ê²°ê³¼:** í˜ì´ì§€ ë¡œë“œëŠ” ëìœ¼ë‚˜ "ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” í¬ì¼“" ì—ëŸ¬

---

### 4ë‹¨ê³„: ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€
**ì»¤ë°‹:** `9cefeeb`  
**íŒŒì¼:** `src/pages/share/SharedPocketPage.tsx`

**ë³€ê²½ ë‚´ìš©:**
```typescript
catch (err: any) {
    console.error('[SharedPocket] Error:', err);
    console.error('[SharedPocket] PocketId:', pocketId);
    setError(err.message || 'í¬ì¼“ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
}
```

---

### 5ë‹¨ê³„: Supabase URL ë¶ˆì¼ì¹˜ ìˆ˜ì • (ìµœì¢… í•´ê²°)
**ì»¤ë°‹:** `a91a0bd`  
**íŒŒì¼:** `src/services/supabase/client.ts`

**ë¬¸ì œ ë°œê²¬:**
- `.env` íŒŒì¼: `https://xnfxfitvgmzrfhhigsgb.supabase.co`
- fallback: `https://cddcvhqwanljsdellvvr.supabase.co` (ì˜ëª»ëœ URL)

**ìµœì¢… ìˆ˜ì •:**
```typescript
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL || 'https://xnfxfitvgmzrfhhigsgb.supabase.co';
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || 'sb_publishable_DLn32up5Awyji419aa61oA_Z8GDBbxL';
```

**ê²°ê³¼:** âœ… ì •ìƒ ì‘ë™ ì˜ˆìƒ

---

## ğŸ“¦ ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| 5db6bf7 | fix: Use hardcoded Vercel URL for share links | Dashboard.tsx |
| 3189bd8 | fix: Add hardcoded Supabase credentials for public share pages | SharedPocketPage.tsx |
| f36ea5d | fix: Add fallback Supabase credentials for web build | client.ts, SharedPocketPage.tsx |
| 9cefeeb | debug: Add console logging for share page errors | SharedPocketPage.tsx |
| a91a0bd | fix: Correct Supabase URL in fallback credentials | client.ts |

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

**í•˜ë“œì½”ë”©ëœ ì •ë³´:**
- Supabase URL: `https://xnfxfitvgmzrfhhigsgb.supabase.co`
- Anon Key: `sb_publishable_DLn32up5Awyji419aa61oA_Z8GDBbxL`

**ë³´ì•ˆ í‰ê°€:**
- âœ… Anon keyëŠ” ê³µê°œìš© í´ë¼ì´ì–¸íŠ¸ í‚¤ (ë…¸ì¶œ ê°€ëŠ¥)
- âœ… RLS(Row Level Security)ë¡œ ë°ì´í„° ì ‘ê·¼ ì œì–´ë¨
- âœ… ê³µìœ  í˜ì´ì§€ëŠ” read-only ìš©ë„
- âš ï¸ Git historyì— ì˜êµ¬ ì €ì¥ë¨
- âš ï¸ í‚¤ ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • ë° ì¬ë°°í¬ í•„ìš”

**ê¶Œì¥ ê°œì„ ì‚¬í•­:**
- Vercel í™˜ê²½ë³€ìˆ˜ ì„¤ì •ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³ ë ¤
- í‚¤ ë¡œí…Œì´ì…˜ ì‹œ fallback ê°’ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸

---

## âœ… í…ŒìŠ¤íŠ¸ í•­ëª©

- [x] ê³µìœ  ë§í¬ ìƒì„± (Dashboard)
- [x] ê³µìœ  ë§í¬ ì ‘ì† (Vercel)
- [ ] ê³µìœ  í¬ì¼“ ë°ì´í„° ë¡œë“œ
- [ ] ì•„ì´í…œ ëª©ë¡ í‘œì‹œ
- [ ] ë¹„ê³µê°œ í¬ì¼“ ì ‘ê·¼ ì°¨ë‹¨
- [ ] ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í¬ì¼“ ì—ëŸ¬ ì²˜ë¦¬

---

## ğŸ“ í›„ì† ì‘ì—…

1. Vercel ë°°í¬ ì™„ë£Œ í›„ ì‹¤ì œ ê³µìœ  ë§í¬ í…ŒìŠ¤íŠ¸
2. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸
3. Supabase RLS ì •ì±… í™•ì¸ (ìµëª… ì‚¬ìš©ì SELECT ê¶Œí•œ)
4. í•„ìš” ì‹œ Vercel í™˜ê²½ë³€ìˆ˜ ë§ˆì´ê·¸ë ˆì´ì…˜

---

**ì‘ì—… ì™„ë£Œ ì‹œê°:** 2026-01-24 16:15  
**ì´ ì†Œìš” ì‹œê°„:** ì•½ 45ë¶„  
**ìµœì¢… ìƒíƒœ:** Vercel ë°°í¬ ëŒ€ê¸° ì¤‘
